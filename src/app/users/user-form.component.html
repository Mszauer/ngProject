<div class="container container-fluid">
    <div class="col-md-6 well">
        <h1 class="text-center">{{ title }}</h1>
        <form [formGroup]='form' 
              (ngSubmit)='onSubmit(form.value)'>
            <fieldset>
                <legend class="text-center">User</legend>
                <div class="form-group">
                    <label>Name: </label>
                    <input formControlName='name' id='name'
                            type="text" class="form-control" 
                            [(ngModel)]="user.name" required>
                    <div *ngIf='form.controls.name.touched 
                                && form.controls.name.errors'>
                            <div *ngIf='form.controls.name.errors.required'
                                    class="alert alert-danger">
                                Name is required.
                            </div>
                    </div>
                </div>
                <div class="form-group">
                    <label >Email: </label>
                    <input formControlName="email" id='email'
                            type="text" class="form-control" 
                            [(ngModel)]="user.email"
                            required>
                    <div *ngIf='form.controls.email.touched
                                && form.controls.email.errors'>
                        <div *ngIf='form.controls.email.errors.required'
                                class="alert alert-danger">
                            A valid Email is required.
                        </div>                       
                    </div>
                </div>
                <div class="form-group">
                    <label>Phone: </label>
                    <input formControlName="phone" id="phone"
                            type="text" class="form-control"
                            [(ngModel)]="user.phone">
                </div>
            </fieldset>
            <fieldset formArrayName="address">
                <legend class="text-center">Address</legend>
                <div class="form-group">
                    <label>Street: </label>
                    <input formControlName="street" id="street"
                            type="text" class="form-control"
                            [(ngModel)]="user.address.street">
                </div>
                <div class="form-group">
                    <label >Suite: </label>
                    <input formControlName="suite" id="suite"
                            type="text" class="form-control"
                            [(ngModel)]="user.address.suite">
                </div>
                <div class="form-group">
                    <label>City: </label>
                    <input formControlName="city" id="city"
                            type="text" class="form-control"
                            [(ngModel)]="user.address.city">
                </div>
                <div class="form-group">
                    <label>ZipCode: </label>
                    <input formControlName="zipcode" id="zipcode"
                            type="text" class="form-control"
                            [(ngModel)]="user.address.zipcode">
                </div>
                <div *ngIf='!form.valid' class='alert alert-danger'>
                    Please make sure the form is filled out completely.
                </div>
                <button class='btn btn-primary' type='submit' [disabled]='!form.valid'
                        >Submit</button>
            </fieldset>
        </form>
    </div>
</div>